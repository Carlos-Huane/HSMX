(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{12:function(e,t,n){e.exports={auth:"AuthForm_auth__1Dk0R",control:"AuthForm_control__1JQdS",actions:"AuthForm_actions__1al1J",toggle:"AuthForm_toggle__2a_cD"}},18:function(e,t,n){e.exports={contenedor:"ProfileForm_contenedor__3Becg",contenedorCard:"ProfileForm_contenedorCard__2RKyB",icons:"ProfileForm_icons__aTGft",phoneNumber:"ProfileForm_phoneNumber__lGHkH"}},23:function(e,t,n){e.exports={header:"MainNavigation_header__2X2U2",logo:"MainNavigation_logo__8yClp"}},30:function(e,t,n){e.exports={profile:"UserProfile_profile__25xGw"}},31:function(e,t,n){e.exports={starting:"StartingPageContent_starting__2UUdE"}},44:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(25),o=n.n(c),s=n(10),a=n(4),r=n(17),i=n(11),l="OBTENER_TOKEN",j="GUARDAR_ID",d={token:"",id:""};var b=n(28),h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.b,u=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{token:t.payload});case j:return Object(i.a)(Object(i.a)({},e),{},{id:t.payload});default:return Object(i.a)({},e)}}),h(Object(r.a)(b.a))),O=u,x=(n(44),n(3)),p=n(1);function f(e){return{type:l,payload:e}}var m=n(23),g=n.n(m),v=n(0),_=function(){var e=Object(a.c)((function(e){return e.token})),t=Object(a.b)();return Object(v.jsxs)("header",{className:g.a.header,children:[Object(v.jsx)(s.b,{to:"/",children:Object(v.jsx)("div",{className:g.a.logo,children:"HSMX"})}),Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[""===e?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/auth",children:"Login"})})}):null,""!==e?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/profile",children:"Contacts"})}),Object(v.jsx)("li",{children:Object(v.jsx)("button",{onClick:function(){return t(f(""))},children:"Logout"})})]}):null]})})]})},y=function(e){return Object(v.jsxs)(p.Fragment,{children:[Object(v.jsx)(_,{}),Object(v.jsx)("main",{children:e.children})]})},k=n(8),C=n(18),N=n.n(C),w=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.id})),n=Object(p.useState)(!1),c=Object(k.a)(n,2),o=c[0],s=c[1],r=Object(p.useState)(""),i=Object(k.a)(r,2),l=i[0],d=i[1],b=Object(p.useState)(""),h=Object(k.a)(b,2),u=h[0],O=h[1],x=Object(p.useState)(""),f=Object(k.a)(x,2),m=f[0],g=f[1],_=Object(p.useState)(""),y=Object(k.a)(_,2),C=y[0],w=y[1],S=Object(p.useState)(""),E=Object(k.a)(S,2),T=E[0],F=E[1],P=Object(a.c)((function(e){return e.token}));return Object(p.useEffect)((function(){fetch("https://hsmxcontacts.herokuapp.com/api/contact/get",{method:"GET",headers:{tokenKey:"bearer "+P,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return F(e)}))}),[T]),Object(v.jsxs)(v.Fragment,{children:[0===T.length?Object(v.jsx)("h1",{children:"No tienes contactos a\xf1adidos"}):Object(v.jsx)("div",{className:N.a.contenedor,children:T.map((function(t){return Object(v.jsx)("div",{className:N.a.contenedorCard,children:Object(v.jsxs)("div",{class:"card",children:[Object(v.jsxs)("div",{class:"card-info",children:[Object(v.jsx)("div",{class:"card-avatar"}),Object(v.jsx)("div",{class:"card-title",children:t.first_name}),Object(v.jsx)("div",{class:"card-subtitle",children:Object(v.jsx)("h4",{className:N.a.phoneNumber,children:t.telf_number})})]}),Object(v.jsxs)("ul",{class:"card-social",style:{position:"relative",bottom:"2rem"},children:[Object(v.jsx)("li",{class:"card-social__item",children:Object(v.jsx)("a",{onClick:function(){var n;e((n=t._id,{type:j,payload:n}))},"data-bs-toggle":"modal","data-bs-target":"#exampleModal",x:!0,children:Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-edit",width:"40",height:"40",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#354259",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(v.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(v.jsx)("path",{d:"M9 7h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),Object(v.jsx)("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),Object(v.jsx)("line",{x1:"16",y1:"5",x2:"19",y2:"8"})]})})}),Object(v.jsx)("li",{class:"card-social__item",children:Object(v.jsx)("a",{onClick:function(){return e=t._id,void fetch("https://hsmxcontacts.herokuapp.com/api/contact/DELETE",{method:"DELETE",body:JSON.stringify({id:e}),headers:{tokenKey:"bearer "+P,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}));var e},children:Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-trash",width:"40",height:"40",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#354259",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[Object(v.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(v.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),Object(v.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(v.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),Object(v.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),Object(v.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})]})]})},t._id)}))}),Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:function(){s((function(e){return!e}))},class:"button2",children:"Add contacts"}),o&&Object(v.jsx)("div",{class:"login-page",children:Object(v.jsx)("div",{class:"form2",children:Object(v.jsxs)("form",{class:"login-form",onSubmit:function(e){return function(e){console.log(P),fetch("https://hsmxcontacts.herokuapp.com/api/contact/create",{method:"POST",body:JSON.stringify({first_name:l,telf_number:u}),headers:{tokenKey:"bearer "+P,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){return console.log(P)})),d(""),O(""),s((function(e){return!e})),e.preventDefault()}(e)},children:[Object(v.jsx)("input",{type:"text",onChange:function(e){d(e.target.value),console.log(l)},value:l,placeholder:"name"}),Object(v.jsx)("input",{type:"number",onChange:function(e){O(e.target.value)},value:u,placeholder:"phone number"}),Object(v.jsx)("button",{type:"submit",children:"Add Conctacts"})]})})})]}),Object(v.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(v.jsx)("div",{class:"modal-dialog",children:Object(v.jsxs)("div",{class:"modal-content",children:[Object(v.jsx)("div",{class:"modal-header",children:Object(v.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),Object(v.jsx)("div",{class:"modal-body",children:Object(v.jsxs)("form",{class:"form",children:[Object(v.jsx)("h2",{class:"h2",children:"Edit Contact"}),Object(v.jsx)("p",{class:"p",type:"Name:",children:Object(v.jsx)("input",{onChange:function(e){g(e.target.value)},value:m,placeholder:"Write your name here.."})}),Object(v.jsx)("p",{class:"p",type:"Phone Number:",children:Object(v.jsx)("input",{onChange:function(e){w(e.target.value)},value:C,placeholder:"Write your Phone Number here.."})})]})}),Object(v.jsxs)("div",{class:"modal-footer",children:[Object(v.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(v.jsx)("button",{onClick:function(){return function(e){fetch("https://hsmxcontacts.herokuapp.com/api/contact/update",{method:"PATCH",body:JSON.stringify({id:e,first_name:m,telf_number:C}),headers:{tokenKey:"bearer "+P,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}(t)},type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",children:"Save changes"})]})]})})})]})},S=n(30),E=n.n(S),T=function(){return Object(v.jsx)("section",{className:E.a.profile,children:Object(v.jsx)(w,{})})},F=n(12),P=n.n(F),M=function(e){var t=Object(p.useState)(!0),n=Object(k.a)(t,2),c=n[0],o=n[1],s=Object(p.useRef)(),r=Object(p.useRef)(),i=(Object(a.c)((function(e){return e.token})),Object(a.b)());Object(x.g)();return Object(v.jsxs)("section",{className:P.a.auth,children:[Object(v.jsx)("h1",{children:c?"Login":"Sign Up"}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.current.value,n=r.current.value;c?fetch("https://hsmxcontacts.herokuapp.com/api/user/auth/login",{method:"POST",body:JSON.stringify({email:t,password:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),e.accessToken&&i(f(e.accessToken))})):fetch("https://hsmxcontacts.herokuapp.com/api/user/auth/registro",{method:"POST",body:JSON.stringify({email:t,password:n}),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){console.log(e)}));o(!c)}))},children:[Object(v.jsxs)("div",{className:P.a.control,children:[Object(v.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(v.jsx)("input",{type:"email",id:"email",ref:s,required:!0})]}),Object(v.jsxs)("div",{className:P.a.control,children:[Object(v.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(v.jsx)("input",{type:"password",id:"password",ref:r,required:!0})]}),Object(v.jsxs)("div",{className:P.a.actions,children:[Object(v.jsx)("button",{children:c?"Login":"Create Account"}),Object(v.jsx)("button",{type:"button",className:P.a.toggle,onClick:function(){o((function(e){return!e}))},children:c?"Create new account":"Login with existing account"})]})]})]})},A=function(){return Object(v.jsx)(M,{})},D=n(31),J=n.n(D),L=function(){return Object(v.jsx)("section",{className:J.a.starting,children:Object(v.jsx)("h1",{children:"Welcome on Board!"})})},R=function(){return Object(v.jsx)(L,{})};var B=function(){var e=Object(a.c)((function(e){return e.token}));return Object(v.jsx)(y,{children:Object(v.jsxs)(x.d,{children:[Object(v.jsx)(x.b,{path:"/",exact:!0,children:Object(v.jsx)(R,{})}),!e&&Object(v.jsx)(x.b,{path:"/auth",children:Object(v.jsx)(A,{})}),Object(v.jsxs)(x.b,{path:"/profile",exact:!0,children:[e&&Object(v.jsx)(T,{}),!e&&Object(v.jsx)(x.a,{to:"/auth"})]}),Object(v.jsx)(x.b,{path:"*",children:Object(v.jsx)(x.a,{to:"/profile"})})]})})};o.a.createRoot(document.getElementById("root")).render(Object(v.jsx)(a.a,{store:O,children:Object(v.jsx)(s.a,{children:Object(v.jsx)(B,{})})}))}},[[51,1,2]]]);
//# sourceMappingURL=main.da882461.chunk.js.map